(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b969b22"],{1777:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"contain"},[i("h1",{staticClass:"title",domProps:{textContent:t._s(t.article.title)}}),i("div",{staticClass:"other-info"},[t._v("\n    作者: "+t._s(t.article.username)+" | 时间："+t._s(t.article.created?t.article.created.substr(0,t.article.created.length-2):"")+" | 喜欢："+t._s(t.article.likes)+"\n  ")]),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.article.content)}}),t.isCollection?i("el-button",{staticClass:"collection-btn",attrs:{type:"info",round:""},on:{click:t.unCollectionArticle}},[t._v("已收藏")]):i("el-button",{staticClass:"collection-btn",attrs:{type:"danger",round:""},on:{click:t.collectionArticle}},[t._v("收藏文章")])],1)},n=[],o={name:"Detail",data:function(){return{id:0,loading:!1,article:"",cur_user:"",isCollection:!1}},created:function(){var t=this;this.id=this.$route.query.id,this.cur_user=this.$store.getters.getCurUser,this.$axios.get("/blog/api/getContent?id="+this.id).then(function(e){t.article=e.data[0]});var e=this.$store.getters.getLoginState;if(e){var i=this.cur_user.id,s=this.id;this.$axios.get("/blog/api/judgeCollection?articleId="+s+"&userId="+i).then(function(e){e.data&&(t.isCollection=!0)})}},methods:{collectionArticle:function(){var t=this;this.cur_user?this.$axios.get("/blog/api/collection?articleId="+this.id+"&userId="+this.cur_user.id+"&how=add").then(function(e){e.data?(t.$message({showClose:!0,message:"收藏成功",type:"success"}),t.isCollection=!0,t.article.likes++):t.$message({showClose:!0,message:"收藏失败",type:"error"})}):this.$router.push("/login")},unCollectionArticle:function(){var t=this;this.cur_user?this.$axios.get("/blog/api/collection?articleId="+this.id+"&userId="+this.cur_user.id+"&how=delete").then(function(e){e.data&&(t.isCollection=!1,t.article.likes--)}):this.$router.push("/login")}}},a=o,c=(i("e4f3"),i("2877")),l=Object(c["a"])(a,s,n,!1,null,"485cbca2",null);e["default"]=l.exports},e4f3:function(t,e,i){"use strict";var s=i("faaa"),n=i.n(s);n.a},faaa:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2b969b22.b13a3063.js.map