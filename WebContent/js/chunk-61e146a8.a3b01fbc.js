(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61e146a8"],{"0b9e":function(e,s,t){},"45eb":function(e,s,t){"use strict";var a=t("0b9e"),n=t.n(a);n.a},"9a92":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{attrs:{id:"user-avatar"}},[t("img",{staticClass:"avatar",attrs:{src:e.imgUrl+"image/user/"+e.userinfo.avatar}}),t("el-upload",{staticClass:"upload-demo update-btn",attrs:{action:"/blog/api/changeAvatar?id="+e.cur_user.id,multiple:!1,limit:1,accept:"image/jpg,image/png","on-change":e.updateAvatar}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("修改头像")]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("\n        只能上传jpg/png文件，且不超过500kb"),t("br"),e._v("\n        如要再次修改，请将第一次上传的头像删除\n      ")])],1)],1),t("div",{staticClass:"user-name"},[t("span",[e._v("昵称：")]),t("el-input",{staticClass:"name",attrs:{placeholder:"请输入昵称"},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}})],1),t("div",{staticClass:"user-sex"},[t("span",[e._v("性别：")]),t("el-radio",{attrs:{label:"0"},model:{value:e.userinfo.sex,callback:function(s){e.$set(e.userinfo,"sex",s)},expression:"userinfo.sex"}},[e._v("男")]),t("el-radio",{attrs:{label:"1"},model:{value:e.userinfo.sex,callback:function(s){e.$set(e.userinfo,"sex",s)},expression:"userinfo.sex"}},[e._v("女")])],1),t("div",{staticClass:"user-tel"},[t("span",[e._v("电话：")]),t("el-input",{staticClass:"tel",attrs:{placeholder:"请输入电话号码"},model:{value:e.userinfo.tel,callback:function(s){e.$set(e.userinfo,"tel",s)},expression:"userinfo.tel"}})],1),t("div",{staticClass:"user-introduction"},[t("span",[e._v("自我介绍：")]),t("el-input",{staticClass:"introduction",attrs:{type:"textarea",rows:2,placeholder:"请输入内容",resize:"none"},model:{value:e.userinfo.introduction,callback:function(s){e.$set(e.userinfo,"introduction",s)},expression:"userinfo.introduction"}})],1),t("el-button",{staticClass:"save-btn",attrs:{type:"success",round:""},on:{click:e.changeUserInfo}},[e._v("保存设置")])],1)},n=[],i={name:"Basic",data:function(){return{imgUrl:"/blog/",userinfo:"",username:""}},created:function(){var e=this;this.username=this.cur_user.username,this.$axios.get("/blog/api/getUserInfo?id="+this.cur_user.id).then(function(s){e.userinfo=s.data[0]})},computed:{cur_user:function(){return this.$store.getters.getCurUser}},mounted:function(){this.$message({showClose:!0,message:"温馨提示，上传头像后，刷新后才会更新",type:"success"})},methods:{updateAvatar:function(e,s){},changeUserInfo:function(){var e=this,s=this.userinfo.id,t=this.username,a=this.userinfo.tel,n=this.userinfo.introduction,i=this.userinfo.sex;this.$axios.post("/blog/api/changeUserInfo",{id:s,username:t,tel:a,introduction:n,sex:i}).then(function(s){s.data?e.$message({showClose:!0,message:"修改成功",type:"success"}):e.$message({showClose:!0,message:"修改失败，稍后重试",type:"error"})})}}},r=i,o=(t("45eb"),t("2877")),u=Object(o["a"])(r,a,n,!1,null,"ffe6d73e",null);s["default"]=u.exports}}]);
//# sourceMappingURL=chunk-61e146a8.a3b01fbc.js.map