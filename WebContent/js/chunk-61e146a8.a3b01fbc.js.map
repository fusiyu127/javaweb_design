{"version":3,"sources":["webpack:///./src/views/UserInfo/basic.vue?98ca","webpack:///./src/views/UserInfo/basic.vue?b32e","webpack:///src/views/UserInfo/basic.vue","webpack:///./src/views/UserInfo/basic.vue?ab95","webpack:///./src/views/UserInfo/basic.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_basic_vue_vue_type_style_index_0_id_ffe6d73e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_basic_vue_vue_type_style_index_0_id_ffe6d73e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","src","imgUrl","userinfo","action","cur_user","multiple","limit","accept","on-change","updateAvatar","size","type","_v","slot","placeholder","model","value","callback","$$v","username","expression","label","$set","rows","resize","round","on","click","changeUserInfo","staticRenderFns","basicvue_type_script_lang_js_","name","data","created","_this","$axios","get","then","res","computed","$store","getters","getCurUser","mounted","$message","showClose","message","methods","file","fileList","_this2","tel","introduction","sex","post","UserInfo_basicvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-61e146a8.a3b01fbc.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./basic.vue?vue&type=style&index=0&id=ffe6d73e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./basic.vue?vue&type=style&index=0&id=ffe6d73e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"user-avatar\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":(_vm.imgUrl + \"image/user/\" + (_vm.userinfo.avatar))}}),_c('el-upload',{staticClass:\"upload-demo update-btn\",attrs:{\"action\":(\"/blog/api/changeAvatar?id=\" + (_vm.cur_user.id)),\"multiple\":false,\"limit\":1,\"accept\":\"image/jpg,image/png\",\"on-change\":_vm.updateAvatar}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"修改头像\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"\\n        只能上传jpg/png文件，且不超过500kb\"),_c('br'),_vm._v(\"\\n        如要再次修改，请将第一次上传的头像删除\\n      \")])],1)],1),_c('div',{staticClass:\"user-name\"},[_c('span',[_vm._v(\"昵称：\")]),_c('el-input',{staticClass:\"name\",attrs:{\"placeholder\":\"请输入昵称\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('div',{staticClass:\"user-sex\"},[_c('span',[_vm._v(\"性别：\")]),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.userinfo.sex),callback:function ($$v) {_vm.$set(_vm.userinfo, \"sex\", $$v)},expression:\"userinfo.sex\"}},[_vm._v(\"男\")]),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.userinfo.sex),callback:function ($$v) {_vm.$set(_vm.userinfo, \"sex\", $$v)},expression:\"userinfo.sex\"}},[_vm._v(\"女\")])],1),_c('div',{staticClass:\"user-tel\"},[_c('span',[_vm._v(\"电话：\")]),_c('el-input',{staticClass:\"tel\",attrs:{\"placeholder\":\"请输入电话号码\"},model:{value:(_vm.userinfo.tel),callback:function ($$v) {_vm.$set(_vm.userinfo, \"tel\", $$v)},expression:\"userinfo.tel\"}})],1),_c('div',{staticClass:\"user-introduction\"},[_c('span',[_vm._v(\"自我介绍：\")]),_c('el-input',{staticClass:\"introduction\",attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\",\"resize\":\"none\"},model:{value:(_vm.userinfo.introduction),callback:function ($$v) {_vm.$set(_vm.userinfo, \"introduction\", $$v)},expression:\"userinfo.introduction\"}})],1),_c('el-button',{staticClass:\"save-btn\",attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.changeUserInfo}},[_vm._v(\"保存设置\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div id=\"user-avatar\">\r\n      <img :src=\"`${imgUrl}image/user/${userinfo.avatar}`\" class=\"avatar\">\r\n      <el-upload\r\n        class=\"upload-demo update-btn\"\r\n        :action=\"`/blog/api/changeAvatar?id=${cur_user.id}`\"\r\n        :multiple=\"false\"\r\n        :limit=\"1\"\r\n        accept=\"image/jpg,image/png\"\r\n        :on-change=\"updateAvatar\">\r\n        <el-button size=\"small\" type=\"primary\">修改头像</el-button>\r\n        <div slot=\"tip\" class=\"el-upload__tip\">\r\n          只能上传jpg/png文件，且不超过500kb<br>\r\n          如要再次修改，请将第一次上传的头像删除\r\n        </div>\r\n      </el-upload>\r\n    </div>\r\n    <div class=\"user-name\">\r\n      <span>昵称：</span>\r\n      <el-input v-model=\"username\" placeholder=\"请输入昵称\" class=\"name\"></el-input>\r\n    </div>\r\n    <div class=\"user-sex\">\r\n      <span>性别：</span>\r\n      <el-radio v-model=\"userinfo.sex\" label=\"0\">男</el-radio>\r\n      <el-radio v-model=\"userinfo.sex\" label=\"1\">女</el-radio>\r\n    </div>\r\n    <div class=\"user-tel\">\r\n      <span>电话：</span>\r\n      <el-input v-model=\"userinfo.tel\" placeholder=\"请输入电话号码\" class=\"tel\"></el-input>\r\n    </div>\r\n    <div class=\"user-introduction\" >\r\n      <span>自我介绍：</span>\r\n      <el-input\r\n        type=\"textarea\"\r\n        :rows=\"2\"\r\n        placeholder=\"请输入内容\"\r\n        v-model=\"userinfo.introduction\"\r\n        resize=\"none\"\r\n        class=\"introduction\">\r\n      </el-input>\r\n    </div>\r\n    <el-button type=\"success\" round class=\"save-btn\" @click=\"changeUserInfo\">保存设置</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'Basic',\r\n    data() {\r\n      return {\r\n        imgUrl: process.env.BASE_URL,\r\n        userinfo: '',\r\n        username:''\r\n      }\r\n    },\r\n    created(){\r\n      //获取当前用户基本资料\r\n      this.username = this.cur_user.username\r\n      this.$axios.get('/blog/api/getUserInfo?id='+this.cur_user.id).then((res) => {\r\n        this.userinfo = res.data[0]\r\n      })\r\n    },\r\n    computed:{\r\n      cur_user(){\r\n        return this.$store.getters.getCurUser\r\n      }\r\n    },\r\n    mounted(){\r\n      this.$message({\r\n        showClose: true,\r\n        message: '温馨提示，上传头像后，刷新后才会更新',\r\n        type: 'success'\r\n      })\r\n    },\r\n    methods: {\r\n      updateAvatar(file, fileList) {\r\n      },\r\n      changeUserInfo(){\r\n        let id = this.userinfo.id\r\n        let username = this.username\r\n        let tel = this.userinfo.tel\r\n        let introduction = this.userinfo.introduction\r\n        let sex = this.userinfo.sex\r\n        this.$axios.post('/blog/api/changeUserInfo',{\r\n          id,\r\n          username,\r\n          tel,\r\n          introduction,\r\n          sex\r\n        }).then((res) => {\r\n          if(!res.data){\r\n            this.$message({\r\n              showClose: true,\r\n              message: '修改失败，稍后重试',\r\n              type: 'error'\r\n            })\r\n            return\r\n          }else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '修改成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  #user-avatar{\r\n    overflow: hidden;\r\n  }\r\n\r\n  .avatar {\r\n    float: left;\r\n    width: 100px;\r\n    height: 100px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  .update-btn {\r\n    float: left;\r\n    margin: 20px 20px;\r\n  }\r\n\r\n  .user-name{\r\n    color: #333333;\r\n    margin-top: 30px;\r\n    height:40px;\r\n    line-height: 40px;\r\n  }\r\n\r\n  .user-name span{\r\n    float: left;\r\n    margin-right: 32px;\r\n  }\r\n\r\n  .user-name .name{\r\n    float:left;\r\n    width: 200px;\r\n  }\r\n\r\n  .user-sex{\r\n    margin-top: 30px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    color: #333333;\r\n  }\r\n\r\n  .user-sex span{\r\n    margin-right: 32px;\r\n  }\r\n\r\n  .user-tel{\r\n    margin-top: 30px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    color: #333333;\r\n  }\r\n\r\n  .user-tel span{\r\n    float: left;\r\n    margin-right: 32px;\r\n  }\r\n\r\n  .user-tel .tel{\r\n    float:left;\r\n    width: 200px;\r\n  }\r\n\r\n  .user-introduction{\r\n    margin-top: 30px;\r\n    color: #333333;\r\n    height: 54px;\r\n    overflow: hidden;\r\n    line-height: 54px;\r\n  }\r\n\r\n  .user-introduction span{\r\n    float: left;\r\n  }\r\n\r\n  .user-introduction .introduction{\r\n    float: left;\r\n    width: 400px;\r\n  }\r\n\r\n  .save-btn{\r\n    margin-top: 20px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./basic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./basic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./basic.vue?vue&type=template&id=ffe6d73e&scoped=true&\"\nimport script from \"./basic.vue?vue&type=script&lang=js&\"\nexport * from \"./basic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./basic.vue?vue&type=style&index=0&id=ffe6d73e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ffe6d73e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}