{"version":3,"sources":["webpack:///./src/views/Detail/index.vue?0919","webpack:///src/views/Detail/index.vue","webpack:///./src/views/Detail/index.vue?04f9","webpack:///./src/views/Detail/index.vue","webpack:///./src/views/Detail/index.vue?4f8a"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","domProps","textContent","_s","article","title","_v","username","created","substr","length","likes","innerHTML","content","isCollection","attrs","type","round","on","click","unCollectionArticle","collectionArticle","staticRenderFns","Detailvue_type_script_lang_js_","data","id","loading","cur_user","_this","$route","query","$store","getters","getCurUser","$axios","get","then","res","loginState","getLoginState","userId","articleId","methods","_this2","$message","showClose","message","$router","push","_this3","views_Detailvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_485cbca2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_485cbca2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,WAAA,EAAaC,KAAA,UAAAC,QAAA,YAAAC,MAAAT,EAAA,QAAAU,WAAA,YAA4EC,YAAA,WAAwB,CAAAP,EAAA,MAAWO,YAAA,QAAAC,SAAA,CAA8BC,YAAAb,EAAAc,GAAAd,EAAAe,QAAAC,UAAyCZ,EAAA,OAAYO,YAAA,cAAyB,CAAAX,EAAAiB,GAAA,aAAAjB,EAAAc,GAAAd,EAAAe,QAAAG,UAAA,SAAAlB,EAAAc,GAAAd,EAAAe,QAAAI,QAAAnB,EAAAe,QAAAI,QAAAC,OAAA,EAAApB,EAAAe,QAAAI,QAAAE,OAAA,gBAAArB,EAAAc,GAAAd,EAAAe,QAAAO,OAAA,UAAAlB,EAAA,OAA6MO,YAAA,UAAAC,SAAA,CAAgCW,UAAAvB,EAAAc,GAAAd,EAAAe,QAAAS,YAAyCxB,EAAAyB,aAAyIrB,EAAA,aAAmCO,YAAA,iBAAAe,MAAA,CAAoCC,KAAA,OAAAC,MAAA,IAAyBC,GAAA,CAAKC,MAAA9B,EAAA+B,sBAAiC,CAAA/B,EAAAiB,GAAA,SAA/Qb,EAAA,aAAsCO,YAAA,iBAAAe,MAAA,CAAoCC,KAAA,SAAAC,MAAA,IAA2BC,GAAA,CAAKC,MAAA9B,EAAAgC,oBAA+B,CAAAhC,EAAAiB,GAAA,WAAsI,IACv3BgB,EAAA,GCYAC,EAAA,CACA3B,KAAA,SACA4B,KAFA,WAGA,OACAC,GAAA,EACAC,SAAA,EACAtB,QAAA,GACAuB,SAAA,GACAb,cAAA,IAGAN,QAXA,WAWA,IAAAoB,EAAAtC,KACAA,KAAAmC,GAAAnC,KAAAuC,OAAAC,MAAAL,GACAnC,KAAAqC,SAAArC,KAAAyC,OAAAC,QAAAC,WACA3C,KAAA4C,OAAAC,IAAA,2BAAA7C,KAAAmC,IAAAW,KAAA,SAAAC,GACAT,EAAAxB,QAAAiC,EAAAb,KAAA,KAEA,IAAAc,EAAAhD,KAAAyC,OAAAC,QAAAO,cACA,GAAAD,EAAA,CAEA,IAAAE,EAAAlD,KAAAqC,SAAAF,GACAgB,EAAAnD,KAAAmC,GACAnC,KAAA4C,OAAAC,IAAA,uCAAAM,EAAA,WAAAD,GAAAJ,KAAA,SAAAC,GACAA,EAAAb,OACAI,EAAAd,cAAA,OAKA4B,QAAA,CACArB,kBADA,WACA,IAAAsB,EAAArD,KACAA,KAAAqC,SAIArC,KAAA4C,OAAAC,IAAA,kCAAA7C,KAAAmC,GAAA,WAAAnC,KAAAqC,SAAAF,GAAA,YAAAW,KAAA,SAAAC,GACAA,EAAAb,MACAmB,EAAAC,SAAA,CACAC,WAAA,EACAC,QAAA,OACA9B,KAAA,YAEA2B,EAAA7B,cAAA,EACA6B,EAAAvC,QAAAO,SAEAgC,EAAAC,SAAA,CACAC,WAAA,EACAC,QAAA,OACA9B,KAAA,YAhBA1B,KAAAyD,QAAAC,KAAA,WAsBA5B,oBAzBA,WAyBA,IAAA6B,EAAA3D,KACAA,KAAAqC,SAGArC,KAAA4C,OAAAC,IAAA,kCAAA7C,KAAAmC,GAAA,WAAAnC,KAAAqC,SAAAF,GAAA,eAAAW,KAAA,SAAAC,GACAA,EAAAb,OACAyB,EAAAnC,cAAA,EACAmC,EAAA7C,QAAAO,WALArB,KAAAyD,QAAAC,KAAA,aCrE8VE,EAAA,0BCQ9VC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA9D,EACAkC,GACF,EACA,KACA,WACA,MAIegC,EAAA,WAAAH,6CCnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAmfE,EAAG","file":"js/chunk-2b969b22.b13a3063.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"contain\"},[_c('h1',{staticClass:\"title\",domProps:{\"textContent\":_vm._s(_vm.article.title)}}),_c('div',{staticClass:\"other-info\"},[_vm._v(\"\\n    作者: \"+_vm._s(_vm.article.username)+\" | 时间：\"+_vm._s(_vm.article.created?_vm.article.created.substr(0,_vm.article.created.length-2):'')+\" | 喜欢：\"+_vm._s(_vm.article.likes)+\"\\n  \")]),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),(!_vm.isCollection)?_c('el-button',{staticClass:\"collection-btn\",attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.collectionArticle}},[_vm._v(\"收藏文章\")]):_c('el-button',{staticClass:\"collection-btn\",attrs:{\"type\":\"info\",\"round\":\"\"},on:{\"click\":_vm.unCollectionArticle}},[_vm._v(\"已收藏\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div v-loading=\"loading\" class=\"contain\">\r\n      <h1 class=\"title\" v-text=\"article.title\"></h1>\r\n      <div class=\"other-info\">\r\n        作者: {{article.username}} | 时间：{{article.created?article.created.substr(0,article.created.length-2):''}} | 喜欢：{{article.likes}}\r\n      </div>\r\n      <div class=\"content\" v-html=\"article.content\"></div>\r\n      <el-button type=\"danger\" v-if=\"!isCollection\" round class=\"collection-btn\" @click=\"collectionArticle\">收藏文章</el-button>\r\n      <el-button type=\"info\" v-else round class=\"collection-btn\" @click=\"unCollectionArticle\">已收藏</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n      name: \"Detail\",\r\n      data(){\r\n        return {\r\n          id: 0,\r\n          loading: false,\r\n          article: '',\r\n          cur_user: '',\r\n          isCollection: false\r\n        }\r\n      },\r\n      created() {\r\n        this.id = this.$route.query.id\r\n        this.cur_user = this.$store.getters.getCurUser\r\n        this.$axios.get('/blog/api/getContent?id='+this.id).then((res) => {\r\n          this.article = res.data[0]\r\n        })\r\n        let loginState = this.$store.getters.getLoginState\r\n        if(loginState){\r\n          //判断当前用户是否收藏文章\r\n          let userId = this.cur_user.id\r\n          let articleId = this.id\r\n          this.$axios.get('/blog/api/judgeCollection?articleId='+articleId+\"&userId=\"+userId).then((res) => {\r\n            if(res.data){\r\n              this.isCollection = true\r\n            }\r\n          })\r\n        }\r\n      },\r\n      methods: {\r\n        collectionArticle(){\r\n          if(!this.cur_user){\r\n            this.$router.push('/login')\r\n            return\r\n          }else {\r\n            this.$axios.get('/blog/api/collection?articleId='+this.id+\"&userId=\"+this.cur_user.id+\"&how=add\").then((res) => {\r\n              if(res.data){\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '收藏成功',\r\n                  type: 'success'\r\n                })\r\n                this.isCollection = true\r\n                this.article.likes++\r\n              }else {\r\n                this.$message({\r\n                  showClose: true,\r\n                  message: '收藏失败',\r\n                  type: 'error'\r\n                })\r\n              }\r\n            })\r\n          }\r\n        },\r\n        unCollectionArticle(){\r\n          if(!this.cur_user) {\r\n            this.$router.push('/login')\r\n          }else {\r\n            this.$axios.get('/blog/api/collection?articleId='+this.id+\"&userId=\"+this.cur_user.id+\"&how=delete\").then((res) => {\r\n              if(res.data){\r\n                this.isCollection = false\r\n                this.article.likes--\r\n              }\r\n            })\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n  .contain{\r\n    margin: 20px auto;\r\n    width: 70%;\r\n  }\r\n  .title{\r\n    font-size: 34px;\r\n    font-weight: 700;\r\n    color: #333333;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .content{\r\n    font-size: 18px;\r\n    color: #2F2F2F;\r\n    margin-bottom: 20px;\r\n    line-height: 24px;\r\n  }\r\n\r\n\r\n  .other-info{\r\n    font-size: 14px;\r\n    color: #969696;\r\n    text-align: center;\r\n    margin-bottom: 20px;\r\n  }\r\n\r\n  .collection-btn{\r\n    margin: 0 auto;\r\n    display: block;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=485cbca2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=485cbca2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"485cbca2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=485cbca2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=485cbca2&scoped=true&lang=css&\""],"sourceRoot":""}